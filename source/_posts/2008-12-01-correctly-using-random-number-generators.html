---
layout: post
title: "Correctly Using Random Number Generators"
date: 2008-12-01T17:13:00-07:00
categories:
 - Error
 - .NET
 - Microsoft
 - Code Organization
 - Algorithms
---

<div class='post'>
<p>Today I read another guy's blog post that reminded me of my own &quot;Aha!&quot; moment I had a while back with Random Number Generators.&#160; It's something I will never forget about Random Number Generators but taken for granted, realizing that it might not be obvious to everyone how these objects are intended to be used.&#160; Here is the blog entry that I read about creating and seeding a Random Number Generator once:</p>  <p><a title="http://silverlight.net/blogs/msnow/archive/2008/12/01/silverlight-tip-of-the-day-77-creating-an-efficient-random-generator.aspx" href="http://silverlight.net/blogs/msnow/archive/2008/12/01/silverlight-tip-of-the-day-77-creating-an-efficient-random-generator.aspx">http://silverlight.net/blogs/msnow/archive/2008/12/01/silverlight-tip-of-the-day-77-creating-an-efficient-random-generator.aspx</a></p>  <p>However, I must admit that I think <a title="Mike Snow" href="http://silverlight.net/blogs/msnow/about.aspx">Mike Snow</a> should have titled his post something similar to the title of my post.&#160; And I will tell you why...</p> <span class='fullpost'> <p>In the MSDN documentation that Mike quotes, there is a key sentence everyone needs to take note of, as you can ignorantly introduce bugs into your code:</p>  <blockquote>   <p>&quot;As a result, different Random objects that are created in close succession by a call to the default constructor will have identical default seed values and, therefore, will produce identical sets of random numbers.&quot;</p> </blockquote>  <p>I have actually build a piece of code where this has happened.&#160; I wrote a <font face="Courier New">for</font> loop that iterated quickly enough that the construction of the <font face="Courier New">Random</font> objects resulted in identical random number seeds.&#160; The result was that I asked for several random numbers in quick succession and got the same exact &quot;random&quot; number across all my requests each time I ran the code.&#160; So not only did I get &quot;identical sets of random numbers,&quot; but I got identical random numbers.</p>  <p>As Mike Snow and the MSDN documentation states (and from my own experience), Random Number Generators are designed to be constructed once and intended to live long and prosper within your application.&#160; It can serve <u>all</u> of the random number needs within your application (i.e., you don't need a different Random Number Generator for different use cases or different object types).&#160; All you need is a one-time created random number seed and then you can forever generate random numbers of any type and within any range of numbers.&#160; I can't currently think of a situation when you may need to reseed your Random Number Generator.&#160; Let me know if you think of one.</p> </span>  </div>
